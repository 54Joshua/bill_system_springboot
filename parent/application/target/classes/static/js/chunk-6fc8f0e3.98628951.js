(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6fc8f0e3"],{"1fcc":function(e,t,n){},"37e7":function(e,t,n){"use strict";var a=n("957e"),l="menu",i=l+"/saveMenu",o=l+"/updateMenu",r=l+"/deleteMenu",u=l+"/findMenu",s={saveMenu:function(e){return Object(a["a"])(i,e)},updateMenu:function(e){return Object(a["a"])(o,e)},deleteMenu:function(e){return Object(a["a"])(r,e)},findMenu:function(e){return Object(a["a"])(u,e)}};t["a"]=s},"9c6e":function(e,t,n){"use strict";var a=n("1fcc"),l=n.n(a);l.a},d81d:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",[n("el-aside",{attrs:{width:"200px"}},[n("el-button",{attrs:{type:"primary",icon:"el-icon-plus",circle:""},on:{click:e.addBaseShow}}),n("el-tree",{attrs:{data:e.menuData,props:e.defaultProps,"expand-on-click-node":!1},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node,l=t.data;return n("span",{staticClass:"custom-tree-node"},[n("span",[e._v(e._s(l.menuName))]),n("span",[n("el-button",{attrs:{type:"text",circle:""},on:{click:function(t){return e.childAddShow(a,l)}}},[e._v("+")]),n("el-button",{attrs:{type:"text",circle:""},on:{click:function(t){return e.deleteShow(a,l)}}},[e._v("-")])],1)])}}])})],1),n("el-main",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show.menuEditShow,expression:"show.menuEditShow"}]},[n("el-button",{attrs:{type:"primary",round:""},on:{click:e.menuHandle}},[e._v("确 定")]),n("el-form",{ref:"menuVO",staticClass:"demo-ruleForm",attrs:{model:e.editMenuVO,rules:e.menuRules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"名字",prop:"menuName"}},[n("el-input",{staticClass:"edit-from",attrs:{placeholder:"请输入名字"},model:{value:e.editMenuVO.menuName,callback:function(t){e.$set(e.editMenuVO,"menuName",t)},expression:"editMenuVO.menuName"}})],1),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.parentShow,expression:"parentShow"}],attrs:{label:"上级",prop:"parentName"}},[e._v(" "+e._s(e.editMenuVO.parentName)+" ")]),n("el-form-item",{attrs:{label:"标签",prop:"tag"}},[n("el-input",{staticClass:"edit-from",attrs:{placeholder:"请输入标签"},model:{value:e.editMenuVO.tag,callback:function(t){e.$set(e.editMenuVO,"tag",t)},expression:"editMenuVO.tag"}})],1),n("el-form-item",{attrs:{label:"路由",prop:"addr"}},[n("el-input",{staticClass:"edit-from",attrs:{placeholder:"请输入路由"},model:{value:e.editMenuVO.addr,callback:function(t){e.$set(e.editMenuVO,"addr",t)},expression:"editMenuVO.addr"}})],1),n("el-form-item",{attrs:{label:"排序",prop:"order"}},[n("el-input",{staticClass:"edit-from",attrs:{placeholder:"请输入order"},model:{value:e.editMenuVO.order,callback:function(t){e.$set(e.editMenuVO,"order",t)},expression:"editMenuVO.order"}})],1)],1)],1)]),n("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.dialogLoading,expression:"loading.dialogLoading"}],attrs:{title:e.dialog.title,visible:e.dialog.dialogMenu,width:"30%"},on:{"update:visible":function(t){return e.$set(e.dialog,"dialogMenu",t)}}},[n("el-form",{ref:"menuVO",staticClass:"demo-ruleForm",attrs:{model:e.menuVO,rules:e.menuRules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"名字",prop:"menuName"}},[n("el-input",{staticClass:"edit-from",attrs:{placeholder:"请输入名字"},model:{value:e.menuVO.menuName,callback:function(t){e.$set(e.menuVO,"menuName",t)},expression:"menuVO.menuName"}})],1),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show.parentShow,expression:"show.parentShow"}],attrs:{label:"上级",prop:"parentName"}},[e._v(" "+e._s(e.menuVO.parentName)+" ")]),n("el-form-item",{attrs:{label:"标签",prop:"tag"}},[n("el-input",{staticClass:"edit-from",attrs:{placeholder:"请输入标签"},model:{value:e.menuVO.tag,callback:function(t){e.$set(e.menuVO,"tag",t)},expression:"menuVO.tag"}})],1),n("el-form-item",{attrs:{label:"路由",prop:"addr"}},[n("el-input",{staticClass:"edit-from",attrs:{placeholder:"请输入路由"},model:{value:e.menuVO.addr,callback:function(t){e.$set(e.menuVO,"addr",t)},expression:"menuVO.addr"}})],1),n("el-form-item",{attrs:{label:"排序",prop:"order"}},[n("el-input",{staticClass:"edit-from",attrs:{placeholder:"请输入order"},model:{value:e.menuVO.order,callback:function(t){e.$set(e.menuVO,"order",t)},expression:"menuVO.order"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialog.dialogMenu=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.menuHandle}},[e._v("确 定")])],1)],1),n("el-dialog",{attrs:{title:"警告",visible:e.dialog.dialogDeleteMenu,width:"30%",center:""},on:{"update:visible":function(t){return e.$set(e.dialog,"dialogDeleteMenu",t)}}},[n("span",[e._v("确定要删除["+e._s(e.menuVO.menuName)+"]么")]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialog.dialogDeleteMenu=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.deleteHandle}},[e._v("确 定")])],1)])],1)},l=[],i=n("9944"),o=n("37e7"),r={name:"MenuHandle",data:function(){return{menus:null,menuVO:{menuId:null,menuName:null,parentId:null,parentName:null,addr:null,tag:null,order:null},editMenuVO:{menuId:null,menuName:null,parentId:null,parentName:null,addr:null,tag:null,order:null},menuRules:{menuName:[{required:!0,message:"不能为空",trigger:"blur"}],addr:[{required:!0,message:"不能为空",trigger:"blur"}],tag:[{required:!0,message:"不能为空",trigger:"blur"}],order:[{validator:i["a"].checkNumber,trigger:"blur"}]},defaultProps:{children:"childMenu",label:"menuName"},loading:{dialogLoading:!1},dialog:{title:null,dialogMenu:!1,dialogDeleteMenu:!1},show:{parentShow:!1,menuEditShow:!1},handle:null}},mounted:function(){this.initMenu()},methods:{initMenu:function(){var e=this;o["a"].findMenu().then((function(t){e.menus=t})).catch((function(t){i["a"].showMsg(e,t,"error")}))},addBaseShow:function(){this.dialog.title="添加菜单",this.show.parentShow=!1,i["a"].resetObj(this.menuVO),this.handle="add",this.dialog.dialogMenu=!0},childAddShow:function(e,t){this.dialog.title="添加菜单";var n=i["a"].copyObj(t);this.show.parentShow=!0,i["a"].resetObj(this.menuVO),this.menuVO.parentName=n.menuName,this.menuVO.parentId=n.menuId,this.handle="add",this.dialog.dialogMenu=!0},handleNodeClick:function(e){var t=i["a"].copyObj(e);this.editMenuVO=t,this.show.menuEditShow=!0},menuHandle:function(){var e=this;"add"===this.handle?o["a"].saveMenu(this.menuVO).then((function(){e.dialog.dialogMenu=!1,e.initMenu(),i["a"].showMsg(e,"操作成功")})).catch((function(t){i["a"].showMsg(e,t,"error")})):o["a"].updateMenu(this.editMenuVO).then((function(){e.dialog.dialogMenu=!1,e.initMenu(),i["a"].showMsg(e,"操作成功")})).catch((function(t){i["a"].showMsg(e,t,"error")}))},deleteShow:function(e,t){this.dialog.dialogDeleteMenu=!0,this.menuVO=t},deleteHandle:function(){var e=this,t={id:this.menuVO.menuId};o["a"].deleteMenu(t).then((function(){e.dialog.dialogDeleteMenu=!1,e.initMenu(),i["a"].showMsg(e,"操作成功")})).catch((function(t){i["a"].showMsg(e,t,"error")}))}},computed:{menuData:function(){var e=JSON.parse(JSON.stringify(this.menus));return e},parentShow:function(){return null!==this.editMenuVO.parentName&&""!==this.editMenuVO.parentName}}},u=r,s=(n("9c6e"),n("2877")),d=Object(s["a"])(u,a,l,!1,null,"459efd0e",null);t["default"]=d.exports}}]);